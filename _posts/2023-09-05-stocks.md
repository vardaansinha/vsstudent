---
toc: true
comments: true
layout: post
title: Stock Predictor
courses: { csa: {week: 3} }
type: hacks
---

<html>
<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="myPlot" style="width:100%;max-width:700px"></div>

<script>
async function fetchData() {
  const url = 'https://alpha-vantage.p.rapidapi.com/query?function=TIME_SERIES_WEEKLY_ADJUSTED&symbol=MSFT&datatype=json';
  const options = {
    method: 'GET',
    headers: {
      'X-RapidAPI-Key': '115318933dmsh6d4dd26b9c05b57p138eb6jsn5766c7fe61da',
      'X-RapidAPI-Host': 'alpha-vantage.p.rapidapi.com'
    }
  };

  try {
    const response = await fetch(url, options);
    const result = await response.json();

    // Extract dates and adjusted closing prices from the API response
    const weeklyData = result['Weekly Adjusted Time Series'];
    const dates = Object.keys(weeklyData);
    const prices = dates.map((date) => parseFloat(weeklyData[date]['5. adjusted close']));

    // Define Data
    const data = [{
      x: dates,
      y: prices,
      type: "scatter",
      mode: "lines"
    }];

    // Define Layout
    const layout = {
      xaxis: { title: "Date" },
      yaxis: { title: "Stock Price" },
      title: "Microsoft (MSFT) Weekly Adjusted Stock Prices Over Time"
    };

    // Display using Plotly
    Plotly.newPlot("myPlot", data, layout);
  } catch (error) {
    console.error(error);
  }
}

fetchData();
</script>

</body>
</html>
